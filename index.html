<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stillnight - Full Game (Improved)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="stylesheet" href="src/game/ui/styles.css">
    <style>
        #crt-overlay {
            position: fixed; inset: 0; pointer-events: none; z-index: 9999;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 2px, 3px 100%;
            box-shadow: inset 0 0 80px rgba(0,0,0,0.7);
        }
        #swipe-overlay { position: fixed; inset: 0; pointer-events: none; z-index: 9000; background: #000; transform: translateY(-100%); }
        .swipe-down { transition: transform 0.6s ease-in-out; transform: translateY(0%) !important; }
        .swipe-clear { transition: transform 0.6s ease-in-out; transform: translateY(100%) !important; }
        .swipe-reset { transition: none; transform: translateY(-100%) !important; }
        .hidden-scene { opacity: 0; pointer-events: none; transition: opacity 0.5s; }
        .active-scene { opacity: 1; pointer-events: auto; }
    </style>
</head>
<body class="bg-black">

<div id="crt-overlay"></div>
<div id="swipe-overlay"></div>

<div id="game-container" class="sn-game-container">
    <div id="explore-layer" class="sn-layer active-scene">
        <canvas id="explore-canvas"></canvas>
    </div>
    <div id="battle-layer" class="sn-layer hidden-scene">
        <div id="three-container" class="sn-three"></div>
        <div id="battle-ui-overlay" class="sn-layer pointer-events-none overflow-hidden"></div>
    </div>
</div>

<script type="module" src="src/game/main.js"></script>
</body>
</html>
